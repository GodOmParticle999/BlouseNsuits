import{r as o,j as e,c as i,d,e as p,f,h as y}from"./index-2cb4182c.js";import{D as w}from"./Dialog-76c065af.js";import{M as j}from"./Modal-cff141ad.js";const b=({enquiry:t,getEnquiries:c})=>{const[a,s]=o.useState(!1),[l,r]=o.useState(!1),x=async g=>{const h=i(d,"contactCollection");try{const n=p(h,g);await f(n).then(()=>{r(!1),s(!0),setTimeout(()=>{c()},[1e3])}).catch(()=>alert("Couln't delete!!"))}catch(n){console.log(n.error)}},m=()=>r(!0),u=()=>r(!1);return e.jsxs(e.Fragment,{children:[a&&e.jsx(j,{msg:"Enquiry Deleted Successfully!!",setShowModal:s,success:!0}),l&&e.jsx(w,{clickHandler:u,deleteComment:()=>x(t.id)}),e.jsxs("div",{className:"mt-4 h-fit w-[300px]    max-w-sm relative bg-gradient-to-bl from-yellow-300 to bg-yellow-600 rounded-md shadow-lg px-6  py-5",children:[e.jsx("h1",{className:"px-2 py-[2px] bg-emerald-400 text-gray-50 rounded-lg text-center",children:t.displayName}),e.jsxs("div",{className:"text-center mt-1 ",children:[e.jsx("p",{className:"text-xl text-center text-gray-700",children:t.userNumber}),e.jsx("p",{className:" text-center text-gray-900 break-words ",children:t.userMessage})]}),e.jsx("button",{onClick:m,className:"absolute -right-6 px-1 py-1 bg-red-600 text-gray-100 text-sm rounded-full -top-3 rotate-45 z-20",children:"Remove"})]})]})},D=()=>{const[t,c]=o.useState([]),a=o.useCallback(async()=>{const s=i(d,"contactCollection");try{await y(s).then(l=>c(l.docs.map(r=>({...r.data(),id:r.id})))),console.log(t)}catch(l){console.log(l)}},[]);return o.useEffect(()=>{a()},[]),e.jsxs(e.Fragment,{children:[" ",e.jsx("h1",{className:"text-center text-3xl font-semibold cursive text-orange-600 my-2",children:"Manage All Enquiries!"}),e.jsx("div",{className:"w-screen h-[400px] bg-gray-300 py-10 px-4  flex justify-center overflow-y-scroll no-scrollbar flex-wrap gap-5",children:t.length>0?t.map(s=>e.jsx(b,{enquiry:s,getEnquiries:a},s.id)):e.jsxs("div",{className:"w-screen  grid place-items-center cursive text-red-500 text-3xl",children:[" ","There are no enquiries right now!"]})})]})};export{D as default};
